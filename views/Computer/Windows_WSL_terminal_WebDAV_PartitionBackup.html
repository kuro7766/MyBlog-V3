<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Windows 重装系统，配置 WSL，美化终端，部署 WebDAV 服务器，并备份系统分区 | Kuro&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/MyBlog-V3/favicon.svg">
    <meta name="description" content="现居住于猎户臂上的一个碳基生命">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/MyBlog-V3/assets/css/0.styles.642f6dfc.css" as="style"><link rel="preload" href="/MyBlog-V3/assets/js/app.30feba8a.js" as="script"><link rel="preload" href="/MyBlog-V3/assets/js/4.5050c93e.js" as="script"><link rel="preload" href="/MyBlog-V3/assets/js/1.7152ad87.js" as="script"><link rel="preload" href="/MyBlog-V3/assets/js/13.1e791979.js" as="script"><link rel="prefetch" href="/MyBlog-V3/assets/js/10.790f9afe.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/11.c9502976.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/12.0952c262.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/14.5bb298cf.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/15.a351e2a1.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/16.8e23ac19.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/17.bc29edc1.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/18.c8248ccc.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/19.ec98454d.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/20.4ac28cb5.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/21.5276309d.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/22.c1e8f96b.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/23.845372d8.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/24.9e02816b.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/25.139c04aa.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/26.aa3684ea.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/5.822e0387.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/6.4d1760b4.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/7.590e9a4c.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/8.2a894e06.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/9.675587f2.js"><link rel="prefetch" href="/MyBlog-V3/assets/js/vendors~flowchart.0590dfa6.js">
    <link rel="stylesheet" href="/MyBlog-V3/assets/css/0.styles.642f6dfc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>Kuro's Blog</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>现居住于猎户臂上的一个碳基生命</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>Tsanfer</span>
            
          <span data-v-25ba6db2>2020 - </span>
          2022
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/MyBlog-V3/" class="home-link router-link-active"><!----> <span class="site-name">Kuro's Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/MyBlog-V3/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/计算机/" class="nav-link"><i class="undefined"></i>
  计算机
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/信息技术/" class="nav-link"><i class="undefined"></i>
  信息技术
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/kaggle/" class="nav-link"><i class="undefined"></i>
  kaggle
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/MCU/" class="nav-link"><i class="undefined"></i>
  MCU
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/工具/" class="nav-link"><i class="undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/tag/" class="nav-link"><i class="undefined"></i>
  tag
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/t2/" class="nav-link"><i class="undefined"></i>
  t2
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li></ul></div></div><div class="nav-item"><a href="/MyBlog-V3/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://clouddisk.tsanfer.com:8080" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="fa fa-hdd"></i>
  个人网盘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://clouddisk.tsanfer.com:58080" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="fa fa-exchange-alt"></i>
  订阅转换器
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://hpc.tsanfer.com:8000" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="fa fa-object-ungroup"></i>
  目标检测
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Tsanfer" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><img src="/MyBlog-V3/avatar.svg" alt="author-avatar" class="personal-img" data-v-39576ba9> <h3 class="name" data-v-39576ba9>
    Tsanfer
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>14</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>24</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9><li class="social-item" data-v-39576ba9><i class="iconfont reco-github" style="color:#f26d6d;" data-v-39576ba9></i></li><li class="social-item" data-v-39576ba9><i class="iconfont reco-bilibili" style="color:#abbd81;" data-v-39576ba9></i></li><li class="social-item" data-v-39576ba9><i class="iconfont reco-qq" style="color:#67cc86;" data-v-39576ba9></i></li><li class="social-item" data-v-39576ba9><i class="iconfont reco-twitter" style="color:#3498db;" data-v-39576ba9></i></li><li class="social-item" data-v-39576ba9><i class="iconfont reco-mail" style="color:#abbd81;" data-v-39576ba9></i></li></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/MyBlog-V3/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/计算机/" class="nav-link"><i class="undefined"></i>
  计算机
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/信息技术/" class="nav-link"><i class="undefined"></i>
  信息技术
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/kaggle/" class="nav-link"><i class="undefined"></i>
  kaggle
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/MCU/" class="nav-link"><i class="undefined"></i>
  MCU
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/工具/" class="nav-link"><i class="undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/tag/" class="nav-link"><i class="undefined"></i>
  tag
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/t2/" class="nav-link"><i class="undefined"></i>
  t2
</a></li><li class="dropdown-item"><!----> <a href="/MyBlog-V3/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li></ul></div></div><div class="nav-item"><a href="/MyBlog-V3/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-api"></i>
      工具
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="http://clouddisk.tsanfer.com:8080" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="fa fa-hdd"></i>
  个人网盘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://clouddisk.tsanfer.com:58080" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="fa fa-exchange-alt"></i>
  订阅转换器
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="http://hpc.tsanfer.com:8000" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="fa fa-object-ungroup"></i>
  目标检测
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Tsanfer" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>Windows 重装系统，配置 WSL，美化终端，部署 WebDAV 服务器，并备份系统分区</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>Tsanfer</span>
            
          <span data-v-25ba6db2>2020 - </span>
          2022
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">Windows 重装系统，配置 WSL，美化终端，部署 WebDAV 服务器，并备份系统分区</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>Tsanfer</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>1/9/2022</span></i> <!----> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>系统配置</span><span class="tag-item" data-v-f875f3fc>WSL</span><span class="tag-item" data-v-f875f3fc>终端</span><span class="tag-item" data-v-f875f3fc>WebDAV</span><span class="tag-item" data-v-f875f3fc>硬盘管理</span><span class="tag-item" data-v-f875f3fc>DiskGenius</span><span class="tag-item" data-v-f875f3fc>系统备份</span><span class="tag-item" data-v-f875f3fc>Docker</span></i></div></div> <div class="theme-reco-content content__default"><blockquote><p><a href="https://tsanfer.com/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html" target="_blank" rel="noopener noreferrer">最新博客文章链接<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <hr> <p>最近发现我 Windows11 上的 WSL 打不开了，一直提示我虚拟化功能没有打开，但我看了下配置，发现虚拟化功能其实是开着的。然后试了各种方法，重装了好几次系统，我一个软件一个软件的试，最后发现是 Spacedesk 与 WSL2 不兼容，只要不装 Spacedesk 就行了。我也正好趁这个机会，配置了一些其他的东西，比如终端的美化，WebDAV 服务器的搭建，硬盘分区的备份等。</p> <h2 id="大体思路"><a href="#大体思路" class="header-anchor">#</a> 大体思路</h2> <p>先做个U盘启动盘来装 Windows 11 系统，然后配置一下系统和安装各种软件。之后用 Oh My Posh 来美化 PowerShell 和 Linux 终端。然后在局域网内的另一台 Windows 上部署两个 WebDAV 服务，其分别挂载在本地以及阿里云盘。最后再备份了一下系统分区，作用和一键还原备份差不多。</p> <h3 id="用到的东西"><a href="#用到的东西" class="header-anchor">#</a> 用到的东西</h3> <p>配置时最好参考官方的教程</p> <ul><li><a href="https://www.ventoy.net/" target="_blank" rel="noopener noreferrer">Ventoy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：
<blockquote><p>简单来说，Ventoy 是一个制作<strong>可启动U盘</strong>的开源工具。</p> <p>有了 Ventoy 你就无需反复地格式化U盘，你只需要把 ISO/WIM/IMG/VHD(x)/EFI 等类型的文件直接拷贝到U盘里面就可以启动了，无需其他操作。</p> <p>你可以一次性拷贝很多个不同类型的镜像文件，Ventoy 会在启动时显示一个菜单来供你进行选择。</p> <p>安装之后，同一个U盘可以同时支持 BIOS 和多种 UEFI 模式。</p> <p>支持大部分常见类型的操作系统</p></blockquote></li> <li><a href="https://docs.microsoft.com/zh-cn/windows/wsl/" target="_blank" rel="noopener noreferrer">WSL<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：（Windows Subsystem for Linux）
<blockquote><p>适用于 <strong>Linux 的 Windows 子系统</strong>可让开发人员按原样运行 GNU/Linux 环境 - 包括大多数命令行工具、实用工具和应用程序 - 且不会产生传统虚拟机或双启动设置开销。</p></blockquote></li> <li><a href="https://ohmyposh.dev/" target="_blank" rel="noopener noreferrer">Oh My Posh<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：
<blockquote><p>Oh My Posh is a custom prompt engine for any shell that has the ability to adjust the prompt string with a function or variable.</p> <p>Oh My Posh 是一个可<strong>自定义终端提示符</strong>的软件，它支持任何种类的命令行环境，并能通过函数或变量来配置提示符的字符显示</p></blockquote></li> <li><a href="https://github.com/cloudreve/Cloudreve" target="_blank" rel="noopener noreferrer">Cloudreve<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：
<blockquote><p>Cloudreve 可以让您快速搭建起公私兼备的<strong>网盘</strong>系统。Cloudreve 在底层支持不同的云存储平台，用户在实际使用时无须关心物理存储方式。你可以使用 Cloudreve 搭建个人用网盘、文件分享系统，亦或是针对大小团体的公有云系统</p></blockquote></li> <li><a href="https://github.com/messense/aliyundrive-webdav" target="_blank" rel="noopener noreferrer">aliyundrive-webdav<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：
<blockquote><p><strong>阿里云盘 WebDAV</strong> 服务，主要使用场景为配合支持 WebDAV 协议的客户端 App 如 Infuse、nPlayer 等实现在电视上直接观看云盘视频内容， 支持上传文件，但受限于 WebDAV 协议不支持文件秒传。</p></blockquote></li> <li><a href="https://www.diskgenius.cn/" target="_blank" rel="noopener noreferrer">DiskGenius<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：
<blockquote><p>DiskGenius 是一款专业级的<strong>数据恢复</strong>软件；支持文件恢复、分区恢复；文件预览、扇区编辑、加密分区恢复、Ext4分区恢复、RAID恢复等高级功能</p> <p>DiskGenius 是一款经典的<strong>硬盘分区</strong>工具 。创建分区、删除分区、格式化分区、隐藏分区、分配盘符等基本功能外，DiskGenius 还提供快速分区、无损调整分区大小，分区表备份恢复等更多高阶功能。支持GPT分区格式，支持EXT4文件系统。</p> <p>DiskGenius 还是一款强大的<strong>备份</strong>软件，可以方便的备份或克隆硬盘或分区；支持增量备份及多点还原、热备份、系统备份等众多特性。</p></blockquote></li></ul> <h2 id="系统重装"><a href="#系统重装" class="header-anchor">#</a> 系统重装</h2> <blockquote><p><a href="https://www.ventoy.net/" target="_blank" rel="noopener noreferrer">Ventoy 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>先做个U盘启动盘出来重装系统，顺便在U盘里放个 PE 系统镜像，方便以后配置电脑。</p> <h3 id="制作-ventoy-u盘"><a href="#制作-ventoy-u盘" class="header-anchor">#</a> 制作 Ventoy U盘</h3> <p>安装U盘启动盘时，整个U盘会被格式化，有重要数据的话，记得提前保存</p> <p><img src="https://cdn.tsanfer.com/image/202216194621.png" alt="https://cdn.tsanfer.com/image/202216194621.png"></p> <p>安装完成之后，可以把 Ventoy U盘当成一般的U盘来使用，不会影响U盘的引导。</p> <h3 id="配置-ventoy-插件-ventoyplugson"><a href="#配置-ventoy-插件-ventoyplugson" class="header-anchor">#</a> 配置 Ventoy 插件（ VentoyPlugson ）</h3> <p>Ventoy 支持许多的插件，这里我只配置了“指定搜索目录”，主要是为了加快镜像的搜索速度。当然你也可以不配置，一般搜索镜像的速度都是比较快的。</p> <blockquote><p>指定搜索ISO文件的根目录。默认Ventoy会搜索U盘上的所有目录和子目录，当你U盘上有海量的文件时，这个过程会很慢。
这种情况下你可以把ISO文件单独放在某个目录下，然后通过这个变量来指定搜索路径，此时Ventoy就只会搜索该目录及其子目录。</p></blockquote> <p><img src="https://cdn.tsanfer.com/image/202216195527.png" alt="https://cdn.tsanfer.com/image/202216195527.png"></p> <p>Ventoy 插件里面有一个数据持久化插件，如果想在 Linux LiveCD 中保存数据的话，可以试试这个插件。</p> <h3 id="下载系统镜像"><a href="#下载系统镜像" class="header-anchor">#</a> 下载系统镜像</h3> <blockquote><p><a href="https://www.microsoft.com/zh-cn/software-download/windows11" target="_blank" rel="noopener noreferrer">微软官网 下载 Windows 11<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <blockquote><p><a href="https://kubuntu.org/" target="_blank" rel="noopener noreferrer">kubuntu 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>Windows 和 Linux 的镜像都可以，不过如果要在 Windows 11 上用 QQ 的话，要用简体中文版的镜像。我开始用的英文版镜像，QQ 就一直说我文件损坏，后来改用简体中文版后才正常。</p> <p>下完了镜像后，就直接把镜像文件复制到U盘里（任意位置都行），当然也可以在U盘里放一些软件安装包，方便装完系统后安装。</p> <h3 id="制作-pe-镜像"><a href="#制作-pe-镜像" class="header-anchor">#</a> 制作 PE 镜像</h3> <blockquote><p><a href="https://www.wepe.com.cn/" target="_blank" rel="noopener noreferrer">微PE 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>这里我做了个 PE 的镜像文件，放到U盘里，方便以后电脑有什么问题时，可以用U盘进 PE 系统解决。比如，可以用 PE 来修复系统引导，或者恢复系统盘数据等。</p> <p><img src="https://cdn.tsanfer.com/image/202216215043.png" alt="https://cdn.tsanfer.com/image/202216215043.png"></p> <p>做好 PE 的 ISO 镜像后，和系统镜像一样，放到U盘里就行。</p> <h3 id="安装系统"><a href="#安装系统" class="header-anchor">#</a> 安装系统</h3> <ol><li>插上U盘，重启电脑，进入 BIOS 选择U盘启动。</li> <li>然后选择要安装的镜像，电脑问你要系统激活码可以跳过，我选的是 Windows 11 的 Pro 工作站版，感觉这个版本的功能要全一点。</li> <li>然后就是选择要装到哪个地方，可以先删除之前的分区，然后选择整个硬盘或者某个未分配的区域，来安装系统。</li> <li>之后就是电脑开始从U盘安装系统了，在电脑读取完了U盘的数据之后，就可以拔掉U盘了，然后等它重启。</li> <li>之后进入了设置界面，按步骤走就好，唯一要注意的就是账号的登陆。我这选择的是离线登陆，如果你这里选的是在线账号登陆的话，系统用户名就会变成你登陆账号的前几位，以后进命令行也是这个名字。离线登陆的话，进入系统后显示的用户名则是自己输入的名字。</li></ol> <h3 id="配置系统"><a href="#配置系统" class="header-anchor">#</a> 配置系统</h3> <p>进了系统就是配置各种 Windows 设置里面的东西了，比如改改任务栏软件图标或者删一些不用的软件，最重要的是记得更新系统。当然你也可以对硬盘进行分区，我一般用 <a href="https://www.diskgenius.cn/" target="_blank" rel="noopener noreferrer">DiskGenius<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来进行硬盘操作。</p> <p>我之后重定位了，文档、下载、音乐、图片、视频的文件夹位置，这样就不用以后一个一个更改浏览器或者下载软件里的下载位置了</p> <p><img src="https://cdn.tsanfer.com/image/202216222023.png" alt="https://cdn.tsanfer.com/image/202216222023.png"></p> <h3 id="安装软件"><a href="#安装软件" class="header-anchor">#</a> 安装软件</h3> <p>然后就是安装软件了，比如 7z，运行库，Clash（代理软件），Docker 等。有些软件可能需要我们进 Windows 商店里面下载（比如，Ubuntu），我发现如果要进商店的话，要先把 Clash 代理关了，不然进不去。</p> <p>要想添加开机自启程序的话，可以在文件浏览器的地址栏中输入 <code>startup</code> ，会自动跳转到开机自启文件夹，我的位置是 <code>C:\Users\Admin\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup</code></p> <p>这里要特别注意某些软件可能和 WSL2 不兼容，比如 Spacedesk。如果想要用 WSL2 的话，就不要装 Spacedesk（我现在目前 Spacedesk 的最新版为 Beta RC v1.0.29）</p> <h3 id="安装-wsl"><a href="#安装-wsl" class="header-anchor">#</a> 安装 WSL</h3> <blockquote><p><a href="https://docs.microsoft.com/zh-cn/windows/wsl/install-manual" target="_blank" rel="noopener noreferrer">旧版 WSL 的手动安装步骤<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>这里我是通过安装 docker 来安装 WSL 的， 不过 docker 安装的是 WSL1，在安装时 docker 会提示你需要升级到 WSL2，官方有教程。</p> <p>以管理员身份打开 PowerShell 并运行：</p> <ol><li><p>启用适用于 Linux 的 Windows 子系统：</p> <p><code>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</code></p></li> <li><p>启用虚拟机功能：</p> <p><code>dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</code></p></li> <li><p>安装 <a href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi" target="_blank" rel="noopener noreferrer">WSL2 Linux 内核更新包<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>将 WSL 2 设置为默认版本： <code>wsl --set-default-version 2</code></p></li> <li><p>安装所选的 <a href="https://aka.ms/wslstore" target="_blank" rel="noopener noreferrer">Linux 分发<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，我这选的是 Ubuntu，安装好后打开，设置一下用户名和密码，就可以正常使用 WSL 了。</p></li></ol> <h2 id="配置终端"><a href="#配置终端" class="header-anchor">#</a> 配置终端</h2> <blockquote><p><a href="https://ohmyposh.dev/" target="_blank" rel="noopener noreferrer">Oh My Posh 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>这里我用的终端是系统自带的 Windows Terminal，然后通过 Oh My Posh 来配置终端，主要是因为它同时支持 Windows 和 Linux。</p> <p>先装一个 <a href="https://github.com/ryanoasis/" target="_blank" rel="noopener noreferrer">Nerd Font 字体<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 防止装完 Oh My Posh 后出现乱码，我装的是 <a href="https://github.com/ryanoasis/nerd-fonts/blob/master/patched-fonts/Hack/Regular/complete/Hack%20Regular%20Nerd%20Font%20Complete%20Mono%20Windows%20Compatible.ttf" target="_blank" rel="noopener noreferrer">Hack Nerd Font<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，然后记得更改一下 Windows Terminal 的默认字体就行了。</p> <h3 id="windows-终端配置"><a href="#windows-终端配置" class="header-anchor">#</a> Windows 终端配置</h3> <blockquote><p><a href="https://ohmyposh.dev/docs/windows" target="_blank" rel="noopener noreferrer">Oh My Posh | Installation | Windwos<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <ol><li><p>安装 Oh My Posh ：<code>winget install JanDeDobbeleer.OhMyPosh</code></p></li> <li><p>替换现有提示符，先用 <code>$PROFILE</code> 找到 PowerShell 启动时的脚本（没有就在对应位置新建一个同名文件）。比如我的：</p> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code><span class="token function">PS</span> C:\Users\Admin&gt; <span class="token variable">$PROFILE</span>
D:\Document\PowerShell\Microsoft<span class="token punctuation">.</span>PowerShell_profile<span class="token punctuation">.</span>ps1
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>在 <code>Microsoft.PowerShell_profile.ps1</code> 脚本文件中添加一行命令 ：</p> <p><code>oh-my-posh --init --shell pwsh --config ~/jandedobbeleer.omp.json | Invoke-Expression</code></p> <p>之后重启终端，就能看见新的提示符了。</p> <p><img src="https://cdn.tsanfer.com/image/202216230801.png" alt="https://cdn.tsanfer.com/image/202216230801.png"></p></li> <li><p>不过我这里自己更换了另一个更喜欢的主题 <a href="https://ohmyposh.dev/docs/themes#craver" target="_blank" rel="noopener noreferrer">craver<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，如果你不换主题的话，这一步就不用看了。我把刚刚那个 <code>Microsoft.PowerShell_profile.ps1</code> 脚本里的 <code>~/jandedobbeleer.omp.json</code> 更改为了 <code>~\AppData\Local\Programs\oh-my-posh\themes\craver.omp.json</code> ，然后再重启终端就行了。或者直接下载网上 json 文件并配置。</p> <p><img src="https://cdn.tsanfer.com/image/202216234006.png" alt="https://cdn.tsanfer.com/image/202216234006.png"></p></li></ol> <h3 id="wsl-终端配置"><a href="#wsl-终端配置" class="header-anchor">#</a> WSL 终端配置</h3> <blockquote><p><a href="https://github.com/ohmyzsh/ohmyzsh/wiki" target="_blank" rel="noopener noreferrer">Oh My Zsh 官方安装教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>WSL 的配置大体和 PowerShell 一样，不过我是在 oh-my-zsh 的基础上配置的，主要是为了加强终端的功能，这里我用的是 Ubuntu。</p> <ol><li><p>先更新一下 Ubuntu 系统： <code>sudo apt update -y &amp;&amp; sudo apt upgrade -y</code></p></li> <li><p>安装 zsh, git, vim, unzip： <code>sudo apt install zsh git vim unzip -y</code></p></li> <li><p>设置 zsh 为默认 shell: <code>chsh -s $(which zsh)</code> (或 chsh -s zsh)</p></li> <li><p>设置 WSL2 代理，后面从 Github 下载文件时可能会有 HTTP 的 443 错误，需要我们使用代理，这里我用的是 Clash，端口号默认为 7890。如果不使用代理的话，从 Github 上下载文件可能会很慢。</p> <p>在 <code>~/.zshrc</code> 文件最后添加如下脚本代码，以后每次 zsh 启动时都会执行下面的代码，可以用刚刚安装的 Vim 打开<code>~/.zshrc</code> 并添加代码。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">hostip</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">cat</span> /etc/resolv.conf <span class="token operator">|</span><span class="token function">grep</span> -oP <span class="token string">'(?&lt;=nameserver\ ).*'</span><span class="token variable">)</span></span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">https_proxy</span><span class="token operator">=</span><span class="token string">&quot;http://<span class="token variable">${hostip}</span>:7890&quot;</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">http_proxy</span><span class="token operator">=</span><span class="token string">&quot;http://<span class="token variable">${hostip}</span>:7890&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>安装 oh-my-zsh:</p> <p><code>sh -c &quot;$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</code></p></li> <li><p>配置 oh-my-zsh 插件，比如：</p> <p>安装 zsh-autosuggestions （可以自动提示以前输过的命令）：</p> <p><code>git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions</code></p> <p>安装 zsh-syntax-highlighting（可以使命令行的命令高亮）：</p> <p><code>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting</code></p> <p>然后在 <code>~/.zshrc</code> 文件已有的 plugins 的字段中添加插件名称，例如</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>plugins=(
    git
    zsh-autosuggestions
    zsh-syntax-highlighting
)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>同样的安装 Oh My Posh，就直接跟着官网的教程走就行。</p> <blockquote><p><a href="https://ohmyposh.dev/docs/linux" target="_blank" rel="noopener noreferrer">Oh My Posh | Installation | Linux<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>下载 oh my posh：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">sudo</span> <span class="token function">wget</span> https://github.com/JanDeDobbeleer/oh-my-posh/releases/latest/download/posh-linux-amd64 -O /usr/local/bin/oh-my-posh
<span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/oh-my-posh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>下载主题：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">mkdir</span> ~/.poshthemes
<span class="token function">wget</span> https://github.com/JanDeDobbeleer/oh-my-posh/releases/latest/download/themes.zip -O ~/.poshthemes/themes.zip
<span class="token function">unzip</span> ~/.poshthemes/themes.zip -d ~/.poshthemes
<span class="token function">chmod</span> u+rw ~/.poshthemes/*.json
<span class="token function">rm</span> ~/.poshthemes/themes.zip
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>替换现有提示符，在 <code>~/.zshrc</code> 最后添加下面的代码：</p> <p><code>eval &quot;$(oh-my-posh --init --shell zsh --config ~/jandedobbeleer.omp.json)&quot;</code></p> <p>当然也可以把<code>jandedobbeleer</code> 改成其他喜欢的主题，比如我改成了：</p> <p><code>eval &quot;$(oh-my-posh --init --shell zsh --config ~/.poshthemes/craver.omp.json)&quot;</code></p> <p>然后重启终端就行了</p> <p><img src="https://cdn.tsanfer.com/image/202217163854.png" alt="https://cdn.tsanfer.com/image/202217163854.png"></p></li></ol> <h2 id="部署局域网-webdav-服务器"><a href="#部署局域网-webdav-服务器" class="header-anchor">#</a> 部署局域网 WebDAV 服务器</h2> <p>我用局域网内的另外一台 Windows 来做下载器，在其上安装了 <a href="https://github.com/cloudreve/Cloudreve" target="_blank" rel="noopener noreferrer">Cloudreve<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 以及 <a href="https://github.com/messense/aliyundrive-webdav" target="_blank" rel="noopener noreferrer">aliyundrive-webdav<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来实现 Webdav，操作则用 Windows 自带的远程桌面来控制。cloudreve 主要是用来在两台 Windows 之间传输文件的，aliyundrive-webdav 则是部署阿里云盘的 webdav 服务。webdav 的客户端的话，我则是用的是 <a href="https://www.raidrive.com/" target="_blank" rel="noopener noreferrer">Raidrive<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="配置-windows-远程桌面"><a href="#配置-windows-远程桌面" class="header-anchor">#</a> 配置 Windows 远程桌面</h3> <blockquote><p><a href="https://support.microsoft.com/zh-cn/windows/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2-5fe128d5-8fb1-7a23-3b8a-41e636865e8c#ID0EDD=Windows_11" target="_blank" rel="noopener noreferrer">微软官方配置远程桌面教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>先在被控制的电脑上打开远程控制，然后找到其的 IP 地址。比如我用 <code>ipconfig</code> 找到本地的 IPv4 地址为 <code>192.168.1.7</code> 。当然，你也可以不用远程控制，直接在另一台 Windows 电脑面前操作。</p> <p><img src="https://cdn.tsanfer.com/image/202217174614.png" alt="https://cdn.tsanfer.com/image/202217174614.png"></p> <p>这里最好配置一下路由器的 DHCP ，为其静态分配一个固定的 IP 地址，以后连的时候就不用再看地址了。然后在控制端打开远程桌面连接，输入被控制电脑的 IP 地址，连上就行了。</p> <p><img src="https://cdn.tsanfer.com/image/202217180038.png" alt="https://cdn.tsanfer.com/image/202217180038.png"></p> <h3 id="配置-cloudreve"><a href="#配置-cloudreve" class="header-anchor">#</a> 配置 Cloudreve</h3> <blockquote><p><a href="https://github.com/cloudreve/Cloudreve" target="_blank" rel="noopener noreferrer">Cloudreve Github 地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>在被控制的电脑中打开 <code>cloudreve.exe</code> 即可，第一次启动时会提示一次用户名和密码，以后启动时就没有提示了，所以要注意保存。</p> <p><img src="https://cdn.tsanfer.com/image/202217173410.png" alt="https://cdn.tsanfer.com/image/202217173410.png"></p> <p>然后在浏览器打开 <code>localhost:5212</code> 就能看见 Cloudreve 的前端网页了，之后添加一个 WebDAV 账号，它默认使用的是本地（被控制设备）存储，这样就能在两台电脑之间传输文件了。其实远程桌面连接，支持直接复制粘贴文件，不过每次都要打开远程桌面手动复制粘贴，有点麻烦。</p> <p>Cloudreve 默认每个用户的容量为 1G，可以进 cloudreve 的后台更改用户组的容量设置。</p> <p><img src="https://cdn.tsanfer.com/image/202217221623.png" alt="https://cdn.tsanfer.com/image/202217221623.png"></p> <p>之后就是在主控制端的 Windows 上装 Webdav 客户端了，我用的是 <a href="https://www.raidrive.com/" target="_blank" rel="noopener noreferrer">Raidrive<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 因为其可以挂载 One Drive 和 Google Drive 等的其他存储方式，而且配置功能也比较丰富。下面是刚刚配置的 Cloudreve 的 raidrive 配置，比如，端口 <code>5212</code>，路径默认<code>/dav</code> ，用户名默认 <code>admin@cloudreve.org</code> ，密码则是刚刚创建的 Webdav 新账号的密码</p> <p><img src="https://cdn.tsanfer.com/image/202217181916.png" alt="https://cdn.tsanfer.com/image/202217181916.png"></p> <h3 id="配置-aliyundrive-webdav"><a href="#配置-aliyundrive-webdav" class="header-anchor">#</a> 配置 aliyundrive-webdav</h3> <blockquote><p><a href="https://github.com/messense/aliyundrive-webdav" target="_blank" rel="noopener noreferrer">aliyundrive-webdav Github 地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>我把阿里云盘的 webdav 服务放在了被控制的 windows 上一直开着，比较方便，而且局域网内的其他设备也可以用。下面跟着 Github 上的说明走就行，我是用 docker 部署的服务：</p> <p><code>docker run -d --name=aliyundrive-webdav --restart=unless-stopped -p 8080:8080 -v /etc/aliyundrive-webdav/:/etc/aliyundrive-webdav/ -e REFRESH_TOKEN='your refresh token' -e WEBDAV_AUTH_USER=admin -e WEBDAV_AUTH_PASSWORD=admin messense/aliyundrive-webdav</code></p> <p>等同于在 Powershell 中的</p> <div class="language-powershell line-numbers-mode"><pre class="language-powershell"><code>docker run <span class="token operator">-</span>d <span class="token operator">--</span>name=aliyundrive-webdav <span class="token operator">--</span>restart=unless-stopped <span class="token operator">-</span>p 8080:8080 `
  <span class="token operator">-</span>v <span class="token operator">/</span>etc/aliyundrive-webdav/:<span class="token operator">/</span>etc/aliyundrive-webdav/ `
  <span class="token operator">-</span>e REFRESH_TOKEN=<span class="token string">'your refresh token'</span> `
  <span class="token operator">-</span>e WEBDAV_AUTH_USER=admin `
  <span class="token operator">-</span>e WEBDAV_AUTH_PASSWORD=admin `
  messense/aliyundrive-webdav
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li><p><code>-v</code> ：绑定的卷，这里的这个卷主要是用来存放阿里云盘的 refresh_token。</p> <p>前面的那个<code>/etc/aliyundrive-webdav/</code> 是 windows 里的地址（我随便改了个 <code>~/</code> 地址）</p> <p>后面的那个<code>/etc/aliyundrive-webdav/</code> 是 docker 容器里的地址</p></li> <li><p><code>-e</code> ：环境变量</p> <p><code>REFRESH_TOKEN</code> ：阿里云盘 refresh_token （获得方法的话，作者在 Github 上有说）</p> <p><code>WEBDAV_AUTH_USER</code> ：想要设置的 WebDAV 服务的用户名（我直接默认的）</p> <p><code>WEBDAV_AUTH_PASSWORD</code> ：想要设置的 WebDAV 服务的密码（我直接默认的）</p></li></ul> <p><img src="https://cdn.tsanfer.com/image/202217235135.png" alt="https://cdn.tsanfer.com/image/202217235135.png"></p> <p>被控制的 Windows 上的 docker 运行正常后，就可以在主控制端配置 webdav 了，我顺便还连上了 OneDrive 和 Google Drive</p> <p><img src="https://cdn.tsanfer.com/image/202218154455.png" alt="https://cdn.tsanfer.com/image/202218154455.png"></p> <h2 id="备份分区-磁盘"><a href="#备份分区-磁盘" class="header-anchor">#</a> 备份分区/磁盘</h2> <blockquote><p><a href="https://www.diskgenius.cn/" target="_blank" rel="noopener noreferrer">DiskGenius 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>这次配置系统，不知道出了多少的问题（主要是因为 Spacedesk 和 WSL2 不兼容的问题），还把机械硬盘弄成了动态卷，然后又一不小心把机械硬盘的分区弄坏了。后来用 DiskGenius 重建分区表都只恢复了部分分区，感觉以后随时都要注意备份分区和硬盘了。我前面弄的那个阿里云盘 webdav 主要也是为了方便保存一些数据和系统备份镜像，以免本地电脑出问题后花时间来重新配置系统。</p> <p>这里备份的时候，有两种主要的方式：备份与克隆</p> <p>备份只是生成一个镜像文件，不会覆盖其他分区的数据，而且镜像文件移动起来也比较方便。如果还嫌麻烦的话，就直接用各种一键还原的软件，还能自动的帮你装启动项和做U盘启动盘，貌似 DiskGenius 官方就有一个叫<a href="https://www.onekeyrestore.cn/" target="_blank" rel="noopener noreferrer">易数一键还原<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的工具。</p> <p>克隆则是直接把一个分区（或硬盘）的所有数据复制到另一个分区（或硬盘），而且会覆盖掉另一个分区原有的数据。所以我个人认为，分区备份要方便一点，当然如果要进行系统迁移的话，还是最好用克隆硬盘的方式。</p> <p><img src="https://cdn.tsanfer.com/image/202218172311.png" alt="https://cdn.tsanfer.com/image/202218172311.png"></p> <p>这以后如果在云端能做的事情，我就尽量在线上操作算了，这样就不用注意本地备份的问题了。</p> <hr> <blockquote><p>本文由 <a href="https://tsanfer.com/" target="_blank" rel="noopener noreferrer">Tsanfer's Blog<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 发布！</p></blockquote></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间: </span> <span class="time">5/6/2022, 5:53:08 AM</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#大体思路" class="sidebar-link reco-side-大体思路" data-v-cb1513f6>大体思路</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#用到的东西" class="sidebar-link reco-side-用到的东西" data-v-cb1513f6>用到的东西</a></li><li class="level-2" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#系统重装" class="sidebar-link reco-side-系统重装" data-v-cb1513f6>系统重装</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#制作-ventoy-u盘" class="sidebar-link reco-side-制作-ventoy-u盘" data-v-cb1513f6>制作 Ventoy U盘</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#配置-ventoy-插件-ventoyplugson" class="sidebar-link reco-side-配置-ventoy-插件-ventoyplugson" data-v-cb1513f6>配置 Ventoy 插件（ VentoyPlugson ）</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#下载系统镜像" class="sidebar-link reco-side-下载系统镜像" data-v-cb1513f6>下载系统镜像</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#制作-pe-镜像" class="sidebar-link reco-side-制作-pe-镜像" data-v-cb1513f6>制作 PE 镜像</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#安装系统" class="sidebar-link reco-side-安装系统" data-v-cb1513f6>安装系统</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#配置系统" class="sidebar-link reco-side-配置系统" data-v-cb1513f6>配置系统</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#安装软件" class="sidebar-link reco-side-安装软件" data-v-cb1513f6>安装软件</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#安装-wsl" class="sidebar-link reco-side-安装-wsl" data-v-cb1513f6>安装 WSL</a></li><li class="level-2" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#配置终端" class="sidebar-link reco-side-配置终端" data-v-cb1513f6>配置终端</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#windows-终端配置" class="sidebar-link reco-side-windows-终端配置" data-v-cb1513f6>Windows 终端配置</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#wsl-终端配置" class="sidebar-link reco-side-wsl-终端配置" data-v-cb1513f6>WSL 终端配置</a></li><li class="level-2" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#部署局域网-webdav-服务器" class="sidebar-link reco-side-部署局域网-webdav-服务器" data-v-cb1513f6>部署局域网 WebDAV 服务器</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#配置-windows-远程桌面" class="sidebar-link reco-side-配置-windows-远程桌面" data-v-cb1513f6>配置 Windows 远程桌面</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#配置-cloudreve" class="sidebar-link reco-side-配置-cloudreve" data-v-cb1513f6>配置 Cloudreve</a></li><li class="level-3" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#配置-aliyundrive-webdav" class="sidebar-link reco-side-配置-aliyundrive-webdav" data-v-cb1513f6>配置 aliyundrive-webdav</a></li><li class="level-2" data-v-cb1513f6><a href="/MyBlog-V3/views/Computer/Windows_WSL_terminal_WebDAV_PartitionBackup.html#备份分区-磁盘" class="sidebar-link reco-side-备份分区-磁盘" data-v-cb1513f6>备份分区/磁盘</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><APlayer audio="" fixed="true" theme="#3489fd" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="3" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><!----></div></div>
    <script src="/MyBlog-V3/assets/js/app.30feba8a.js" defer></script><script src="/MyBlog-V3/assets/js/4.5050c93e.js" defer></script><script src="/MyBlog-V3/assets/js/1.7152ad87.js" defer></script><script src="/MyBlog-V3/assets/js/13.1e791979.js" defer></script>
  </body>
</html>
