(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{716:function(s,t,a){"use strict";a.r(t);var e=a(7),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"nfs-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nfs-简介"}},[s._v("#")]),s._v(" NFS 简介")]),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("网络文件系统 "),a("strong",[s._v("(NFS,Network File System)")]),s._v(" 是一种将远程主机上的分区（目录）经网络挂载到本地系统的一种机制，通过对网络文件系统的支持，用户可以在本地系统上像操作本地分区一样来"),a("strong",[s._v("远程操作")]),s._v("主机的共享分区（目录）")]),s._v(" "),a("p",[s._v("在嵌入式 Linux 的开发过程中，开发者需要在 Linux 服务器上进行所有的软件开发，"),a("strong",[s._v("交叉编译")]),s._v("，可以通过建立 NFS，把 Linux 服务器上的特定分区共享到待调试的嵌入式目标系统上，就可以直接在嵌入式目标系统上操作 Linux 服务器，同时可以在线对程序进行"),a("strong",[s._v("调试和修改")]),s._v("，大大的方便了软件的开发。因此，NFS 的是嵌入式 Linux 开发的一个重要的组成部分。")]),s._v(" "),a("p",[s._v("嵌入式 Linux 的 NFS 开发环境的实现包括"),a("strong",[s._v("两个方面")]),s._v("：一是 Linux"),a("strong",[s._v("服务器端")]),s._v("的 NFS 服务器支持；二是嵌入式目标系统的 NFS"),a("strong",[s._v("客户端")]),s._v("的支持。因此，NFS 开发环境的建立需要配置 linux 服务器端和嵌入式目标系统端。")]),s._v(" "),a("h2",{attrs:{id:"开发环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发环境"}},[s._v("#")]),s._v(" 开发环境")]),s._v(" "),a("hr"),s._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}}),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("开发主机")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("开发板")])])]),s._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("发行版本")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Deepin GNU/Linux 15.11")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("Freescale i.MX Release Distro 4.1.15-2.1.0")])]),s._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[s._v("内核版本")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("4.15.0-30")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("4.1.15-2.1.0-00171-g7a6e9c2dea71")])])])]),s._v(" "),a("p",[s._v("设置主机和开发板在同一网段(192.168.0.0/24),主机(192.168.0.1),开发板(192.168.0.2)")]),s._v(" "),a("h2",{attrs:{id:"主机设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主机设置"}},[s._v("#")]),s._v(" 主机设置")]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"设置主机静态-ip-地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置主机静态-ip-地址"}},[s._v("#")]),s._v(" 设置主机静态 IP 地址")]),s._v(" "),a("h4",{attrs:{id:"添加有线连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加有线连接"}},[s._v("#")]),s._v(" 添加有线连接")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("项目")]),s._v(" "),a("th",[s._v("值")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("IP")]),s._v(" "),a("td",[s._v("192.168.0.1")])]),s._v(" "),a("tr",[a("td",[s._v("子网掩码")]),s._v(" "),a("td",[s._v("255.255.255.0")])])])]),s._v(" "),a("h3",{attrs:{id:"主机开启-nfs-服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#主机开启-nfs-服务"}},[s._v("#")]),s._v(" 主机开启 NFS 服务")]),s._v(" "),a("h4",{attrs:{id:"安装-nfs-服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-nfs-服务"}},[s._v("#")]),s._v(" 安装 NFS 服务")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" nfs-kernel-server\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"查看用户-id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看用户-id"}},[s._v("#")]),s._v(" 查看用户 ID")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130171307387.png",alt:"id命令"}}),s._v(" "),a("strong",[s._v("记录 UID 和 GID")])]),s._v(" "),a("h4",{attrs:{id:"配置-nfs-配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-nfs-配置文件"}},[s._v("#")]),s._v(" 配置 NFS 配置文件")]),s._v(" "),a("p",[a("strong",[s._v("添加内容到"),a("code",[s._v("/etc/exports")]),s._v("文件末尾")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("/home/tsanfer/share\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.0/24"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("rw,sync,all_squash,anonuid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(",anongid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(",no_subtree_check"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("ul",[a("li",[a("strong",[s._v("/home/tsanfer/share：要共享的开发主机目录")])]),s._v(" "),a("li",[a("strong",[s._v("192.168.0.0/24：配置谁可以访问，其中的/24 是掩码")])]),s._v(" "),a("li",[a("strong",[s._v("rw: 表示客户机的权限，rw 表示可读写")])]),s._v(" "),a("li",[a("strong",[s._v("sync：资料同步写入到内存与硬盘中。")])]),s._v(" "),a("li",[a("strong",[s._v("anonuid=1000：将客户机上的用户映射成指定的本地用户 ID 的用户")])]),s._v(" "),a("li",[a("strong",[s._v("anongid=998： 将客户机上的用户映射成属于指定的本地用户组 ID")])]),s._v(" "),a("li",[a("strong",[s._v("no_subtree_check：不检查子目录权限，默认配置")])])])]),s._v(" "),a("h4",{attrs:{id:"创建共享目录-home-tsanfer-share"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建共享目录-home-tsanfer-share"}},[s._v("#")]),s._v(" 创建共享目录"),a("code",[s._v("/home/tsanfer/share")])]),s._v(" "),a("h4",{attrs:{id:"更新-exports-配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新-exports-配置"}},[s._v("#")]),s._v(" 更新 exports 配置")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" exportfs -arv\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("ul",[a("li",[a("strong",[s._v("-a：全部 mount 或 umount 文件/etc/exports 中的内容。")])]),s._v(" "),a("li",[a("strong",[s._v("-r：重新 mount 文件/etc/exports 中的共享内容。")])]),s._v(" "),a("li",[a("strong",[s._v("-u：umount 目录。")])]),s._v(" "),a("li",[a("strong",[s._v("-v：在 exportfs 的时候，将详细的信息输出到屏幕上。")])])])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130172333936.png",alt:"更新 exports 配置"}})]),s._v(" "),a("h4",{attrs:{id:"查看-nfs-共享情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看-nfs-共享情况"}},[s._v("#")]),s._v(" 查看 NFS 共享情况")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("showmount -e\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130172514648.png",alt:"查看 NFS 共享情况"}})]),s._v(" "),a("h2",{attrs:{id:"开发板设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发板设置"}},[s._v("#")]),s._v(" 开发板设置")]),s._v(" "),a("hr"),s._v(" "),a("h3",{attrs:{id:"开发板设置静态-ip-地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发板设置静态-ip-地址"}},[s._v("#")]),s._v(" 开发板设置静态 IP 地址")]),s._v(" "),a("h4",{attrs:{id:"临时设置静态-ip-地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#临时设置静态-ip-地址"}},[s._v("#")]),s._v(" 临时设置静态 IP 地址")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ifconfig")]),s._v(" eth0 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"开机自动设置静态-ip-地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开机自动设置静态-ip-地址"}},[s._v("#")]),s._v(" 开机自动设置静态 IP 地址")]),s._v(" "),a("p",[a("strong",[s._v("添加内容到"),a("code",[s._v("/etc/init.d/rc")]),s._v("文件末尾")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ifconfig")]),s._v(" eth0 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("重新启动后即可生效更改")]),s._v(" "),a("h4",{attrs:{id:"查看-ip-地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看-ip-地址"}},[s._v("#")]),s._v(" 查看 IP 地址")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ifconfig")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130173029427.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3OTYxODQz,size_16,color_FFFFFF,t_70",alt:"查看IP地址"}})]),s._v(" "),a("h3",{attrs:{id:"开发板挂载-nfs-服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发板挂载-nfs-服务"}},[s._v("#")]),s._v(" 开发板挂载 NFS 服务")]),s._v(" "),a("h4",{attrs:{id:"创建挂载点目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建挂载点目录"}},[s._v("#")]),s._v(" 创建挂载点目录")]),s._v(" "),a("p",[a("code",[s._v("/home/root/share")])]),s._v(" "),a("h4",{attrs:{id:"挂载-nfs-文件系统"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#挂载-nfs-文件系统"}},[s._v("#")]),s._v(" 挂载 NFS 文件系统")]),s._v(" "),a("h4",{attrs:{id:"临时挂载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#临时挂载"}},[s._v("#")]),s._v(" 临时挂载")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" -o "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("vers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.1:/home/tsanfer/share /home/root/share\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("blockquote",[a("ul",[a("li",[a("strong",[s._v("-o vers=4：表示使用 NFS 文件系统第 4 版本")])]),s._v(" "),a("li",[a("strong",[s._v("192.168.0.1：目标主机的 IP 地址")])]),s._v(" "),a("li",[a("strong",[s._v("/home/tsanfer/share：远端的主机共享目录。")])]),s._v(" "),a("li",[a("strong",[s._v("/home/root/share：本地挂载点，即要把远端共享的目录映射到本地(开发板)的哪个目录")])])])]),s._v(" "),a("h4",{attrs:{id:"开机自动挂载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开机自动挂载"}},[s._v("#")]),s._v(" 开机自动挂载")]),s._v(" "),a("p",[a("strong",[s._v("添加内容到"),a("code",[s._v("/etc/init.d/rc")]),s._v("文件末尾")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mount")]),s._v(" -o "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("vers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".0.1:/home/tsanfer/share /home/root/share\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("重新启动后即可生效更改")]),s._v(" "),a("h2",{attrs:{id:"测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" 测试")]),s._v(" "),a("ul",[a("li",[s._v("开发板进行操作：")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /home/root/share/test_file\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("开发板查看结果\n"),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130194843584.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3OTYxODQz,size_16,color_FFFFFF,t_70",alt:"开发板查看结果"}})]),s._v(" "),a("ul",[a("li",[s._v("主机查看结果："),a("img",{attrs:{src:"https://img-blog.csdnimg.cn/20191130195137821.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI3OTYxODQz,size_16,color_FFFFFF,t_70",alt:"主机查看结果"}})])])])}),[],!1,null,null,null);t.default=r.exports}}]);